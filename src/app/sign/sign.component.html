
<section class="relative flex items-center justify-center my-4" style="padding-top: 7%;">
  <div class="w-full max-w-lg bg-[#ffffffdb] rounded-lg shadow dark:border dark:border-gray-700 mb-10">
    <div class="px-6 py-4 space-y-4">
      <div class="flex items-center justify-center">
        <div class="w-full text-gray-600 font-medium text-lg px-5 py-2 text-center mb-4"
             style="border-bottom: #e8e8e8 0.5px solid;">
          {{ "sign.login" | translate }}
        </div>
      </div>

      <div *ngIf="
      errorMessage" class="text-red-700 flex justify-center">
         {{'sign.verifier' | translate}}
      </div>

      <div class="space-y-2" style="width: 400px">

        <div>
          <label for="username" class="block mb-2 text-sm font-medium text-gray-900">{{ "username" | translate }}</label>
          <input type="text" [(ngModel)]="username" (change)="generateRoleUser()" placeholder="{{ 'sign.title2'| translate }}"
                 class="hover:shadow bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-600 focus:border focus:border-blue-600 block w-full p-2.5"
                 required="">
        </div>

        <div class="py-2" x-data="{ show: true }">
          <span class="block mb-2 text-sm font-medium text-gray-900">{{'password' | translate}}</span>
          <div class="relative">
            <input [(ngModel)]="password" (change)="generateRole()" placeholder="mot de passe" [type]="show ? 'password' : 'text'"
                   class="hover:shadow bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-600 focus:border focus:border-blue-600 block w-full p-2.5">
            <button
              class="shadow-none hover:shadow-none focus:shadow-none bg-transparent absolute inset-y-0 right-0 pr-3 flex items-center text-sm leading-5"
              (click)="showPassword()">
              <i class="fa fa-eye bg-transparent" aria-hidden="true" *ngIf="!show"></i>
              <i class="fa fa-eye-slash bg-transparent" aria-hidden="true" *ngIf="show"></i>
            </button>
          </div>
        </div>

        <div>
          <label for="role" class="block mb-2 text-sm font-medium text-gray-900">Role</label>
          <select name="role" [(ngModel)]="roleEntree" (change)="selectRole(roleEntree)" id="role"
                  class="hover:shadow bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-600 focus:border focus:border-blue-600 block w-full p-2.5">
            <option [ngValue]="null"></option>
            <option value="admin">Administrateur</option>
            <option value="Responsable de l'hopital">Responsable de l'hôpital</option>
            <option value="Moyen generaux">Responsable des moyens généraux</option>
            <option value="Responsable de maintenance">Responsable de maintenance</option>
          </select>
        </div>

        <button (click)="sign()"
                class="w-full text-white bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">
          {{ "sign.title1" | translate }}
        </button>

        <div *ngIf="successMessage"
             class="success-message flex items-center justify-center fixed top-0 left-0 w-full h-full bg-gray-900 bg-opacity-50">
          <div class="bg-green-500 text-white font-bold rounded-lg border shadow-lg p-5">
            {{ successMessage }}
          </div>
        </div>

        <div *ngIf="errorMessage"
             class="success-message flex items-center justify-center fixed top-0 left-0 w-full h-full bg-gray-900 bg-opacity-50">
          <div class="bg-red-500 text-white font-bold rounded-lg border shadow-lg p-5">
            {{ errorMessage }}
          </div>
        </div>

        <div>
          <div class="flex justify-center text-sm font-light text-gray-500 dark:text-gray-400 mt-6 pt-2"
               style="border-top: 0.5px #e8e8e8 solid">
            <a class="font-small hover:underline" routerLink="/forgetPassword">{{ "sign.title5" | translate }} ?</a>
          </div>
        </div>

      </div>
    </div>
  </div>
</section>
